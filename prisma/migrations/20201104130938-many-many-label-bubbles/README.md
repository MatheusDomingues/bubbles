# Migration `20201104130938-many-many-label-bubbles`

This migration has been generated by Mateus Machado at 11/4/2020, 10:09:38 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."_BubbleToLabel" (
"A" integer   NOT NULL ,
"B" integer   NOT NULL 
)

CREATE UNIQUE INDEX "_BubbleToLabel_AB_unique" ON "public"."_BubbleToLabel"("A", "B")

CREATE INDEX "_BubbleToLabel_B_index" ON "public"."_BubbleToLabel"("B")

ALTER TABLE "public"."_BubbleToLabel" ADD FOREIGN KEY("A")REFERENCES "public"."Bubble"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."_BubbleToLabel" ADD FOREIGN KEY("B")REFERENCES "public"."Label"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201104113617-label..20201104130938-many-many-label-bubbles
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -16,8 +16,9 @@
   title       String
   description String
   content     String?
   author      User     @relation(fields: [authorId], references: [id])
+  labels      Label[]
   authorId    Int
 }
 model User {
@@ -31,5 +32,6 @@
 model Label {
   id          Int      @default(autoincrement()) @id
   name        String   @unique
   description String?
+  Bubbles     Bubble[]
 }
```


